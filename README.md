1. ΕΙΣΑΓΩΓΗ
Στα πλαίσια του μαθήματος Τεχνολογία Βάσεων Δεδομένων, δημιουργήσαμε μία εφαρμογή
ξενοδοχειακών κρατήσεων, από την μεριά της επιχείρησης. Η εφαρμογή δημιουργήθηκε με
σκοπό την κάλυψη της απαίτησης για ένα πληροφοριακό σύστημα μηχανογράφησης
ξενοδοχείου. Η βάση δεδομένων υλοποιήθηκε με την χρήση του PgAdmin III, σε γλώσσα
PostgreSQL. To GUI υλοποιήθηκε στο NetBeans, στη γλώσσα Java Swing. Η εφαρμογή στοχεύει
στην διευκόλυνση των ξενοδοχοϋπαλλήλων να δημιουργούν, να επεξεργάζονται, να
ολοκληρώνουν και να διαγράφουν κρατήσεις, με όσο λιγότερα βήματα είναι δυνατό, και με
αυτοματοποιημένες διαδικασίες επιλογής δωματίου, καθώς και να κρατούν ιστορικό των
κρατήσεων και των πελατών.

2. ΒΑΣΗ ΔΕΔΟΜΕΝΩΝ
Η βάση δεδομένων αποτελείται από 6 πίνακες δεδομένων. Οι πίνακες είναι οι εξής:
•Guests αναφέρεται στους πελάτες του ξενοδοχείου.
•Rooms αναφέρεται στο σύνολο των δωματίων που υπάρχουν στο ξενοδοχείο.
•Room Categories αναφέρεται στα είδη των δωματίων (μονόκλινα, δίκλινα,
τρίκλινα).
•Reserved Rooms αναφέρεται στις κρατήσεις που έχουν γίνει και είναι ενεργές.
•Past reservations αναφέρεται στο ιστορικό κρατήσεων που έχουν ολοκληρωθεί.
•Log table αναφέρεται στο ιστορικό των ενεργειών που έχουν γίνει στη βάση.

Οι πίνακες Room Categories και Rooms έχουν σταθερά rows και δεν αλλάζουν. Ο πίνακας
Room Categories αποτελείται από τα columns categoryid τύπου int και categoryname τύπου
varchar. Ο πίνακας Rooms αποτελείται από τα columns idroom τύπου int, το οποίο δηλώνει και
τον αριθμό δωματίου και είναι το primary key, από το roomcategory τύπου int, το οποίο είναι
foreign key του room categories και αντιστοιχεί στο column categoryid, και από το price τύπου
numeric, που δηλώνει την τιμή του δωματίου.
Ο πίνακας guest αποτελείται από τα columns idguest τύπου int, το οποίο αναφέρει τον αριθμό
ταυτότητας του πελάτη, το guest name, guest surname και guest mobile, τα οποία δηλώνουν
το όνομα, επίθετο και κινητό του πελάτη αντίστοιχα. Ο πίνακας guests, συμπληρώνεται και
επικαιροποιείται αυτόματα, με τα κατάλληλα procedures, μετά από κάθε δημιουργία ή
επεξεργασία κάποιας κράτησης στον πίνακα reserved rooms
O πίνακας reserved rooms αποτελείται από τα columns idreservation τύπου int, δηλώνει τον
μοναδικό αριθμό της κάθε κράτησης, είναι το primary key και κάνει auto increment. Τα columns room id και guest id είναι foreign keys και αναφέρονται στα columns idroom του πίνακα rooms και idguest του πίνακα guests αντίστοιχα. Και τα columns since when και check out τύπου text αναφέρονται στις ημερομηνίες της κράτησης. Όταν γίνεται διαγραφή μιας κράτησης,
αντιστοιχείται στην ακύρωση της, και δεν ακολουθεί καμία άλλη ενέργεια. Στην περίπτωση της
ολοκλήρωσης μιας κράτησης, δηλαδή ότι πραγματοποιήθ ηκε και ο πελάτης έχει φύγει πλέον, η
κράτηση αντιγράφεται στον πίνακα past reservations σαν ιστορικό, και διαγράφεται από τον
πίνακα reserved rooms ο οποίος αποτελείται μόνο από ενεργές κρατήσεις. Ο πίνακας
past reservations είναι ένα αντίγραφο του πίνακα resrved rooms και λειτουργεί ως πίνακας ιστορικού παλαιών κρατήσεων.
Ο πίνακας log table είναι ο πίνακας που εξυπηρετεί την ανάγκη για log file Aποτελείται από τα
columns stamp τύπου timestamp που δέχεται την ώρα εισαγωγής του row και είναι το primary key, operation τύπου varchar που δέχεται ένα γράμμα I, U, D για insert, update και delete αντίστοιχα, ανάλογα με την ενέργεια που έκανε
trigger την εισαγωγή της νέας σειράς . To column userid τύπου varchar που δηλώνει τον χρήστη που πραγματοποίησε την ενέργεια στη βάση , και
τα columns room id, guest id, checkin, checkout που παίρνουν τις παλιές ή νέες τιμές του
πίνακα reserved rooms ανάλογα με την ενέργεια που πραγματοποιήθηκε.

3. FUNCTIONS SQL
Για την διατήρηση της ασφάλειας της βάσης δεδομένων μέσω της διεπαφής, δεν αναφέρονται
ονόματα πινάκων ή σ τηλών στον κώδικα. Υπάρχουν κατάλληλες διαδικασίες που ονομάζονται
functions, αποθη κευμένες στη βάση , οι οποίες καλούνται στον κώδικα για να εκτελεστούν οι
αντίστοιχες ενέργειες.

4. ΚΩΔΙΚΑΣ ΔΙΕΠΑΦΗΣ
Ο κώδικας της διεπαφής έχει γραφτεί σε Java Swing, πάνω στο πρόγραμμα NetBeans.
Αποτελείται από μία κλάση main, στην οποία έχουν γραφτεί οι μέθοδοι για τις λειτουργίες της
διεπαφής, και μία κλάση DateSelectionHandler η οποία εμφανίζει τον πίνακα επιλογής
ημερομηνίας για την δημιουργία μιας νέας κράτησης.

5.
ΔΙΕΠΑΦΗ
Η διεπαφή χρήστη αποτελείται από 4 οθόνες. Η εναλλαγή οθονών γίνεται από τα tabs που υπάρχουν στην κορυφή της οθόνης. Οι οθόνες είναι οι παρακάτω:
•Check IN είναι η οθόνη στην οποία συμπληρώνονται τα στοιχεία για την δημιουργία
μιας νέας κ ράτησης στα text boxes, radio buttons και pop ups για τις ημερομηνίες.
•Reservations είναι η οθόνη στην οποία γίνεται η αναζήτηση μιας κράτησης με βάση το είναι η οθόνη στην οποία γίνεται η αναζήτηση μιας κράτησης με βάση το Guest ID, , την ημερομηνίτην ημερομηνία α check in, ή τον αριθμό δωματίου. Σε αυτή την οθόνη γίνεται η , ή τον αριθμό δωματίου. Σε αυτή την οθόνη γίνεται η ολοκολοκλήλήρωρωση ση και ακύρωση μιας κράτησης, ή η επιλογή μιας κράτησης για και ακύρωση μιας κράτησης, ή η επιλογή μιας κράτησης για επεπικαιροποίηση.ικαιροποίηση.
•Update είναι η οθόνη στην οποία εμφανίζονται τα τείναι η οθόνη στην οποία εμφανίζονται τα τρέχοντα στοιχεία ρέχοντα στοιχεία τηςτης κράτησης που κράτησης που έγινε επιλογή στην οέγινε επιλογή στην οθόνη θόνη Reservations, και μπορούν να αλλαχθούν και να , και μπορούν να αλλαχθούν και να επικαιροποιηθούν.επικαιροποιηθούν.
•Log εείναι η οθόνη στην οποία εμφανίζεται το ίναι η οθόνη στην οποία εμφανίζεται το log file,, μια λίσταμια λίστα με με όλεςόλες τιςτις ενέργειες ενέργειες που εκτελέστηκανπου εκτελέστηκαν.. Η εμφάνιση γίνεται με το πάτημα του κουμπιούΗ εμφάνιση γίνεται με το πάτημα του κουμπιού Show Log και με και με κάθε πάτημα γίνεται ανανέωσηκάθε πάτημα γίνεται ανανέωση..
